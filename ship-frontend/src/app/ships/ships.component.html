<section class="page-heading max-width-container">
  <div class="section-grid max-width">
    <h2 class="page-heading__heading">Available Ships</h2>
    <div class="new-ship__button">
      <a
        class="ship__actions-action ship__actions-action-green"
        routerLink="/new-ship"
        >
        Create New Ship
      </a>
    </div>
  </div>
</section>

<section class="ships-list max-width-container">
  <div class="section-grid max-width">
    @for (ship of (ships$ | async); track ship) {

      <div class="ship">
        <div class="ship__image">
          <img [src]="getImageUrl(ship)" />
        </div>
        <div class="ship__stats">
          <p class="ship__stats-name">{{ ship.name }}</p>
          <p>{{ ship.catain }}</p>
        </div>
        <div class="ship__actions">
          @if (canCreateNewShipping(ship)) {
            <a
              (click)="createShipping(ship)"
              class="ship__actions-action ship__actions-action-green"
              >New shipping</a
              >
            }
            @if (shippingExists(ship)) {
              <a
                (click)="editShipping(ship)"
                class="ship__actions-action ship__actions-action-orange"
                >Edit shipping</a
                >
              }
              @if (isShipAway(ship)) {
                <div class="shipping-state__shipping">
                  <p>{{ ship.name }} is at sea</p>
                </div>
              }
            </div>
          </div>
        }
      </div>
    </section>
